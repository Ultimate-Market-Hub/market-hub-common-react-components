import{r as i,R as E}from"./index-76fb7be0.js";import{g,s as p,h as L,a as w,e as C}from"./use-is-mounted-d064fbb6.js";function H(){let[e]=i.useState(g);return i.useEffect(()=>()=>e.dispose(),[e]),e}function d(e,n,o){let u=p(n);i.useEffect(()=>{function c(s){u.current(s)}return document.addEventListener(e,c,o),()=>document.removeEventListener(e,c,o)},[e,o])}function h(e,n,o){let u=p(n);i.useEffect(()=>{function c(s){u.current(s)}return window.addEventListener(e,c,o),()=>window.removeEventListener(e,c,o)},[e,o])}function O(e,n,o=!0){let u=i.useRef(!1);i.useEffect(()=>{requestAnimationFrame(()=>{u.current=o})},[o]);function c(t,a){if(!u.current||t.defaultPrevented)return;let r=a(t);if(r===null||!r.getRootNode().contains(r)||!r.isConnected)return;let v=function f(l){return typeof l=="function"?f(l()):Array.isArray(l)||l instanceof Set?l:[l]}(e);for(let f of v){if(f===null)continue;let l=f instanceof HTMLElement?f:f.current;if(l!=null&&l.contains(r)||t.composed&&t.composedPath().includes(l))return}return!L(r,w.Loose)&&r.tabIndex!==-1&&t.preventDefault(),n(t,r)}let s=i.useRef(null);d("pointerdown",t=>{var a,r;u.current&&(s.current=((r=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:r[0])||t.target)},!0),d("mousedown",t=>{var a,r;u.current&&(s.current=((r=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:r[0])||t.target)},!0),d("click",t=>{s.current&&(c(t,()=>s.current),s.current=null)},!0),d("touchend",t=>c(t,()=>t.target instanceof HTMLElement?t.target:null),!0),h("blur",t=>c(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function P(e){let n=e.parentElement,o=null;for(;n&&!(n instanceof HTMLFieldSetElement);)n instanceof HTMLLegendElement&&(o=n),n=n.parentElement;let u=(n==null?void 0:n.getAttribute("disabled"))==="";return u&&M(o)?!1:u}function M(e){if(!e)return!1;let n=e.previousElementSibling;for(;n!==null;){if(n instanceof HTMLLegendElement)return!1;n=n.previousElementSibling}return!0}let m=i.createContext(null);m.displayName="OpenClosedContext";var T=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(T||{});function R(){return i.useContext(m)}function S({value:e,children:n}){return E.createElement(m.Provider,{value:e},n)}function y(...e){return i.useMemo(()=>C(...e),[...e])}export{R as C,S as c,T as d,O as h,y as n,H as p,P as r,h as s};
